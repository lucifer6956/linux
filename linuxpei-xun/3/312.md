当Linux系统使用很长时间之后，可能会有一些已经没用的文件（即垃圾），这些文件不但会消耗宝贵的硬盘资源，还是降低系统的运行效率，因此需要及时地清理。

  


  


rm 是强大的删除命令，它可以永久性地删除文件系统中指定的文件或目录。在使用 rm 命令删除文件或目录时，系统不会产生任何提示信息。此命令的基本格式为：

\[root@localhost ~\]\# rm\[选项\] 文件或目录

选项：

* -f：强制删除（force），和 -i 选项相反，使用 -f，系统将不再询问，而是直接删除目标文件或目录。
* -i：和 -f 正好相反，在删除文件或目录之前，系统会给出提示信息，使用 -i 可以有效防止不小心删除有用的文件或目录。
* -r：递归删除，主要用于删除目录，可删除指定目录及包含的所有内容，包括所有的子目录和文件。

  


注意，rm 命令是一个具有破坏性的命令，因为 rm 命令会永久性地删除文件或目录，这就意味着，如果没有对文件或目录进行备份，一旦使用 rm 命令将其删除，将无法恢复，因此，尤其在使用 rm 命令删除目录时，要慎之又慎。

  


  


【例 1】基本用法。

  


rm 命令如果任何选项都不加，则默认执行的是"rm -i 文件名"，也就是在删除一个文件之前会先询问是否删除。例如：

\[root@localhost ~\]\# touch cangls  
\[root@localhost ~\]\# rm cangls  
rm:是否删除普通空文件"cangls"?y  
\#删除前会询问是否删除

  


【例 2】 删除目录。

  


如果需要删除目录，则需要使用"-r"选项。例如:

\[root@localhost ~\]\# mkdir -p /test/lm/movie/jp  
\#递归建立测试目录  
\[root@localhost ~\]\# rm /test  
rm:无法删除"/test/": 是一个目录  
\#如果不加"-r"选项，则会报错  
\[root@localhost ~\]\# rm -r /test  
rm:是否进入目录"/test"?y  
rm:是否进入目录"/test/lm/movie"?y  
rm:是否删除目录"/test/lm/movie/jp"?y  
rm:是否删除目录"/test/lm/movie"?y  
rm:是否删除目录"/test/lm"?y  
rm:是否删除目录"/test"?y  
\#会分别询问是否进入子目录、是否删除子目录

大家会发现，如果每级目录和每个文件都需要确认，那么在实际使用中简直是灾难！

  


  


【例 3】强制删除。

  


如果要删除的目录中有 1 万个子目录或子文件，那么普通的 rm 删除最少需要确认 1 万次。所以，在真正删除文件的时候，我们会选择强制删除。例如：

\[root@localhost ~\]\# mkdir -p /test/lm/movie/jp  
\#重新建立测试目录  
\[root@localhost ~\]\# rm -rf /test  
\#强制删除，一了百了

加入了强制功能之后，删除就会变得很简单，但是需要注意，数据强制删除之后无法恢复，除非依赖第三方的数据恢复工具，如 extundelete 等。但要注意，数据恢复很难恢复完整的数据，一般能恢复 70%~80% 就很难得了。所以，与其把宝压在数据恢复上，不如养成良好的操作习惯。

  


  


虽然 "-rf" 选项是用来删除目录的，但是删除文件也不会报错。所以，为了使用方便，一般不论是删除文件还是删除目录，都会直接使用 "-rf" 选项。

